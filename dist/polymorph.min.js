!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.polymorph={})}(this,function(r){"use strict"
function n(r){return"string"==typeof r}function t(r,t){if(n(r))return r
for(var e="",i=0;i<r.length;i++){var o=r[i]
e+=L+k+t(o[0])+k+t(o[1])+k+O
for(var f=2;f<o.length;f++)e+=k+t(o[f])}return e}function e(){throw new Error(Array.prototype.join.call(arguments,k))}function i(r,n){for(var t in n)r.hasOwnProperty(t)||(r[t]=n[t])
return r}function o(r){return new ur(r)}function f(r,n,t){var e=r.length,a=n.length
if(a>e)return f(n,r,t)
n.length=e
for(var u=a;e>u;u++){for(var c=r[u],l=o(c.d.length),v=0;v<c.d.length;v+=2)l[v]=t.absolute?t.x:c.x+c.w*t.x,l[v+1]=t.absolute?t.y:c.y+c.y*t.y
n[u]=i({d:l},c)}}function a(r,n){var t,e=r.length,i=e-n,f=o(n)
for(t=0;n>t;t++)f[t]=r[t]
for(t=n;e>t;t++)r[t-n]=r[t]
for(t=0;n>t;t++)r[i+t]=f[t]}function u(r,n,t,e){return X((r-t)*(r-t)+(n-e)*(n-e))}function c(r,n,t){var e=t.length
if(t[e-2]===t[0]&&t[e-1]===t[1]){var i=t.slice(2)
e=i.length
for(var o,f,c=0;e>c;c+=6){var l=u(r,n,i[c],i[c+1]);(f===_||f>l)&&(f=l,o=c)}a(i,o),t[0]=i[e-2],t[1]=i[e-1]
for(c=0;c<i.length;c++)t[c+2]=i[c]}}function l(r,n){for(var t=r[0].length,e=0;t>e;e++){var i=r[0][e],o=r[1][e],f=N(i.length+n,o.length+n)
r[0][e]=v(i,f),r[1][e]=v(o,f)}}function v(r,n){var t=o(n),e=r.length,i=n-e,f=i/e,a=i
t[0]=r[0],t[1]=r[1]
for(var u=1,c=1;n-1>c;){t[c+1]=r[u+1],t[c+2]=r[u+2],t[c+3]=r[u+3],t[c+4]=r[u+4]
var l=t[c+5]=r[u+5],v=t[c+6]=r[u+6]
if(c+=6,u+=6,a){var s=W(f)
u===e-1&&(s=n-c)
for(var p=0;s>p&&a>0;p++)t[c+1]=t[c+3]=t[c+5]=l,t[c+2]=t[c+4]=t[c+6]=v,c+=6,a-=6}}return t}function s(r,n){return n.p-r.p}function p(r,n,t){var i=h(r),o=h(n),a=t.origin,u=a.x,v=a.y,s=a.absolute
i.length!==o.length&&(t.optimize===B?f(i,o,t.origin):e("optimize:none requires equal lengths"))
var p=Array(2)
if(p[0]=i.map(d),p[1]=o.map(d),t.optimize!==D)for(var g=0;g<i.length;g++){var y=i[g],x=o[g]
c(s?u:y.x+y.w*u,s?v:y.y+y.h*v,p[0][g]),c(s?u:x.x+x.w*u,s?v:x.y+x.h*v,p[1][g])}return t.optimize===B&&l(p,6*t.addPoints),p}function h(r){return r.data.slice().sort(s)}function d(r){return r.d}function g(r,n){n=i(n,cr),r&&r.length>=2||e("invalid arguments")
for(var o=r.length-1,f=Array(o),a=0;o>a;a++)f[a]=y(r[a],r[a+1],n)
var u=n.precision?function(r){return r.toFixed(n.precision)}:W
return function(r){var n=o*r,e=K(R(n),o-1)
return t(f[e]((n-e)/(e+1)),u)}}function y(r,n,t){var e=p(r,n,t),i=e[0].length
return function(t){if(J(t-0)<fr)return r.path
if(J(t-1)<fr)return n.path
for(var o=Array(i),f=0;i>f;f++)o[f]=x(e[0][f],e[1][f],t)
return o}}function x(r,n,t){for(var e=r.length,i=o(e),f=0;e>f;f++)i[f]=r[f]+(n[f]-r[f])*t
return i}function m(r,n){return r===_?n:r}function w(r,n,t,e,i,o,f,a,u,c,l,v,s){if(0>=t||0>=e)return[r,n,a,u,a,u]
var p=ir/180*(+i||0),h=rr(p),d=tr(p),g=!!c
if(!g){var y=r,x=a,m=((r=y*h-n*-d)-(a=x*h-u*-d))/2,A=((n=y*-d+n*h)-(u=x*-d+u*h))/2,b=m*m/(t*t)+A*A/(e*e)
b>1&&(t*=b=X(b),e*=b)
var z=(o===f?-1:1)*X(J((t*t*e*e-t*t*A*A-e*e*m*m)/(t*t*A*A+e*e*m*m)))
v=z*t*A/e+(r+a)/2,c=nr((n-(s=z*-e*m/t+(n+u)/2))/e),l=nr((u-s)/e),v>r&&(c=ir-c),v>a&&(l=ir-l),0>c&&(c+=vr),0>l&&(l+=vr),f&&c>l&&(c-=vr),!f&&l>c&&(l-=vr)}var q
if(J(l-c)>lr){var M=l,P=a,S=u
q=w(a=v+t*rr(l=c+lr*(f&&l>c?1:-1)),u=s+e*tr(l),t,e,i,0,f,P,S,l,M,v,s)}else q=[]
var j=4/3*er((l-c)/4)
if(q.splice(0,0,2*r-(r+j*t*tr(c)),2*n-(n-j*e*rr(c)),a+j*t*tr(l),u-j*e*rr(l),a,u),!g)for(var C=0,E=q.length;E>C;C+=2){var T=q[C],$=q[C+1]
q[C]=T*h-$*d,q[C+1]=T*d+$*h}return q}function A(r,n,t,e,i,o,f){var a=r.x,u=r.y
r.x=m(o,a),r.y=m(f,u),r.p.push(m(n,a),t=m(t,u),e=m(e,a),i=m(i,u),r.x,r.y),r.lc=r.c}function b(r){var n=r.c,t=r.t,e=r.x,i=r.y
if(n===$)t[0]+=i
else if(n===F)t[0]+=e
else if(n===U)t[5]+=e,t[6]+=i
else for(var o=0;o<t.length;o+=2)t[o]+=e,t[o+1]+=i}function z(r){return r.replace(/[\^\s]*([mhvlzcsqta]|\-?\d*\.?\d+)[,\$\s]*/gi," $1").replace(/([mhvlzcsqta])/gi," $1").trim().split("  ").map(q)}function q(r){return r.split(k).map(M)}function M(r,n){return 0===n?r:+r}function P(r){for(var n={x:0,y:0,s:[]},t=z(r),i=0;i<t.length;i++){var o=t[i],f=o[0],a=f.toUpperCase(),u=a!==I&&a!==f
n.c=a
var c=sr[a],l=o,v=1
do{n.t=1===l.length?l:l.slice(v,v+c),u&&b(n)
var s=n.t,p=n.x,h=n.y,d=void 0,g=void 0,y=void 0,x=void 0,m=void 0,q=void 0
if(a===L)n.s.push(n.p=[n.x=s[0],n.y=s[1]])
else if(a===F)A(n,_,_,_,_,s[0],_)
else if(a===$)A(n,_,_,_,_,_,s[0])
else if(a===H)A(n,_,_,_,_,s[0],s[1])
else if(a===I)A(n,_,_,_,_,n.p[0],n.p[1])
else if(a===O)A(n,s[0],s[1],s[2],s[3],s[4],s[5]),n.cx=s[2],n.cy=s[3]
else if(a===Q){var M=n.lc!==Q&&n.lc!==O
A(n,d=M?_:2*p-n.cx,g=M?_:2*h-n.cy,s[0],s[1],s[2],s[3]),n.cx=s[0],n.cy=s[1]}else if(a===V){var P=s[0],S=s[1]
y=s[2],x=s[3],A(n,p+(P-p)*or,h+(S-h)*or,y+(P-y)*or,x+(S-x)*or,y,x),n.cx=P,n.cy=S}else if(a===Z)y=s[0],x=s[1],n.lc===V||n.lc===Z?(d=p+(2*p-n.cx-p)*or,g=h+(2*h-n.cy-h)*or,m=y+(2*p-n.cx-y)*or,q=x+(2*h-n.cy-x)*or):(d=m=p,g=q=h),A(n,d,g,m,q,y,x),n.cx=m,n.cy=q
else if(a===U)for(var j=w(p,h,s[0],s[1],s[2],s[3],s[4],s[5],s[6]),C=0;C<j.length;C+=6)A(n,j[C],j[C+1],j[C+2],j[C+3],j[C+4],j[C+5])
else e(n.c," is not supported")
v+=c}while(v<l.length)}return n.s}function S(r){for(var n=r.length,t=r[n-2],e=r[n-1],i=0,o=0;n>o;o+=6)i+=u(r[o],r[o+1],t,e),t=r[o],e=r[o+1]
return R(i)}function j(r){for(var n=r[0],t=r[1],e=t,i=n,o=2;o<r.length;o+=6){var f=r[o+4],a=r[o+5]
n=K(n,f),i=N(i,f),t=K(t,a),e=N(e,a)}return{d:r,x:n,y:t,w:i-n,h:e-t,p:S(r)}}function C(r){return{path:r,data:P(r).map(j)}}function E(r){if(n(r)){if(!pr.test(r))return r
r=document.querySelector(r)}return r.getAttribute("d")}function T(r){return C(E(r))}var _=void 0,$="V",F="H",H="L",I="Z",L="M",O="C",Q="S",V="Q",Z="T",U="A",k=" ",B="fill",D="none",G=Math,J=G.abs,K=G.min,N=G.max,R=G.floor,W=G.round,X=G.sqrt,Y=G.pow,rr=G.cos,nr=G.asin,tr=G.sin,er=G.tan,ir=G.PI,or=2/3,fr=Y(2,-52),ar="undefined"!=typeof window&&window.navigator.userAgent,ur=/(MSIE |Trident\/|Edge\/)/i.test(ar)?Array:Float32Array,cr={addPoints:0,optimize:B,origin:{x:0,y:0},precision:0},lr=120*ir/180,vr=2*ir,sr={M:2,H:1,V:1,L:2,Z:0,C:6,S:4,Q:4,T:2,A:7},pr=/^([#|\.]|path)/i
r.interpolate=function(r,n){return g(r.map(T),n||{})},Object.defineProperty(r,"__esModule",{value:!0})})
